<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui" xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml" x:Class="LastDance.ViewModels.LoadOrders" Title="Pedidos" BackgroundColor="White">

    <!-- Toolbar com os 3 pontos -->
    <ContentPage.ToolbarItems>
        <ToolbarItem Text="Criar Pedido" Clicked="CreateOrder" Order="Secondary"/>
        <ToolbarItem Text="Pedidos Removidos" Clicked="DeletedOrders" Order="Secondary"/>
        <ToolbarItem Text="Procurar por ID" Clicked="GetOrdersById" Order="Secondary"/>
        <ToolbarItem Text="Pedidos Entregues" Clicked="DeliveredOrders" Order="Secondary"/>
    </ContentPage.ToolbarItems>

        <!-- Lista de pedidos -->
    
    <ScrollView Grid.Row="1">
        <VerticalStackLayout Padding="15" Spacing="10">

            <CollectionView x:Name="OrdersListView" SelectionMode="None">

                <CollectionView.ItemTemplate>
                    <DataTemplate>

                        <Frame Padding="15" Margin="5" BorderColor="#ddd" CornerRadius="12" HasShadow="True" BackgroundColor="#fafafa">

                            <VerticalStackLayout Spacing="10">

                                <!-- Cliente -->

                                <HorizontalStackLayout Spacing="8">

                                    <Label Text="Cliente:" FontAttributes="Bold" FontSize="16" TextColor="#222"/>

                                    <Label Text="{Binding ClientName}" FontSize="16" TextColor="#333"/>

                                </HorizontalStackLayout>

                                <!-- Nome -->

                                <HorizontalStackLayout Spacing="8">

                                    <Label Text="Nome:" FontAttributes="Bold" FontSize="14" TextColor="#555"/>

                                    <Label Text="{Binding ordName}" FontSize="14" TextColor="#666"/>

                                </HorizontalStackLayout>

                                <!-- Status -->

                                <HorizontalStackLayout Spacing="8">

                                    <Label Text="Status:" FontAttributes="Bold" FontSize="14" TextColor="#555"/>

                                    <Label Text="{Binding ordStatus}" FontSize="14" TextColor="#666"/>

                                </HorizontalStackLayout>

                                <HorizontalStackLayout Spacing="8">

                                    <Label Text="Preco:" FontAttributes="Bold" FontSize="14" TextColor="#555"/>

                                    <Label Text="{Binding ordTotalAmount}" FontSize="14" TextColor="#666"/>

                                </HorizontalStackLayout>

                                <!-- Descricao -->

                                <HorizontalStackLayout Spacing="8">

                                    <Label Text="Descricao:" FontAttributes="Bold" FontSize="14" TextColor="#555"/>

                                    <Label Text="{Binding ordDescription}" FontSize="14" TextColor="#666"/>

                                </HorizontalStackLayout>

                                <!-- Criado por -->

                                <HorizontalStackLayout Spacing="8">

                                    <Label Text="Criado por:" FontAttributes="Bold" FontSize="14" TextColor="#555"/>

                                    <Label Text="{Binding ordCreatedUser}" FontSize="14" TextColor="#666"/>

                                </HorizontalStackLayout>

                                <!-- Data criacao -->

                                <HorizontalStackLayout Spacing="8">

                                    <Label Text="Data de criacao:" FontAttributes="Bold" FontSize="14" TextColor="#555"/>

                                    <Label Text="{Binding ordCreatedDate}" FontSize="14" TextColor="#666"/>

                                </HorizontalStackLayout>

                                <!-- Atualizar -->

                                <Label Text="Atualizar Encomenda" FontSize="16" TextColor="#007AFF" HorizontalOptions="Center" TextDecorations="Underline" Margin="0,10,0,0">
                                    <Label.GestureRecognizers>
                                        <TapGestureRecognizer Tapped="UpdateOrder" NumberOfTapsRequired="1"/>
                                    </Label.GestureRecognizers>
                                </Label>

                            </VerticalStackLayout>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
